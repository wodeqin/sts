var slidebars=function(){var i=$("[canvas]"),e={},t=!1,r=!1,n=["top","right","bottom","left"],s=["reveal","push","overlay","shift"],a=function(t){var r=$(),n="0px, 0px",s=1e3*parseFloat(e[t].element.css("transitionDuration"),10);return"reveal"!==e[t].style&&"push"!==e[t].style&&"shift"!==e[t].style||(r=r.add(i)),"push"!==e[t].style&&"overlay"!==e[t].style&&"shift"!==e[t].style||(r=r.add(e[t].element)),e[t].active&&("top"===e[t].side?n="0px, "+e[t].element.css("height"):"right"===e[t].side?n="-"+e[t].element.css("width")+", 0px":"bottom"===e[t].side?n="0px, -"+e[t].element.css("height"):"left"===e[t].side&&(n=e[t].element.css("width")+", 0px")),{elements:r,amount:n,duration:s}},o=function(i,t,r,n){if(l(i))throw"Error registering Slidebar, a Slidebar with id '"+i+"' already exists.";e[i]={id:i,side:t,style:r,element:n,active:!1}},l=function(i){return!!e.hasOwnProperty(i)};this.init=function(i){if(t)throw"Slidebars has already been initialized.";r||($("[off-canvas]").each(function(){var i=$(this).attr("off-canvas").split(" ",3);if(!i||!i[0]||-1===n.indexOf(i[1])||-1===s.indexOf(i[2]))throw"Error registering Slidebar, please specifiy a valid id, side and style'.";o(i[0],i[1],i[2],$(this))}),r=!0),t=!0,this.css(),$(d).trigger("init"),"function"==typeof i&&i()},this.exit=function(i){if(!t)throw"Slidebars hasn't been initialized.";var e=function(){t=!1,$(d).trigger("exit"),"function"==typeof i&&i()};this.getActiveSlidebar()?this.close(e):e()},this.css=function(i){if(!t)throw"Slidebars hasn't been initialized.";for(var r in e)if(l(r)){var n;n="top"===e[r].side||"bottom"===e[r].side?e[r].element.css("height"):e[r].element.css("width"),"push"!==e[r].style&&"overlay"!==e[r].style&&"shift"!==e[r].style||e[r].element.css("margin-"+e[r].side,"-"+n)}this.getActiveSlidebar()&&this.open(this.getActiveSlidebar()),$(d).trigger("css"),"function"==typeof i&&i()},this.open=function(i,r){if(!t)throw"Slidebars hasn't been initialized.";if(!i)throw"You must pass a Slidebar id.";if(!l(i))throw"Error opening Slidebar, there is no Slidebar with id '"+i+"'.";var n=function(){e[i].active=!0,e[i].element.css("display","block"),$(d).trigger("opening",[e[i].id]);var t=a(i);t.elements.css({"transition-duration":t.duration+"ms",transform:"translate("+t.amount+")"}),setTimeout(function(){$(d).trigger("opened",[e[i].id]),"function"==typeof r&&r()},t.duration)};this.getActiveSlidebar()&&this.getActiveSlidebar()!==i?this.close(n):n()},this.close=function(i,r){if("function"==typeof i&&(r=i,i=null),!t)throw"Slidebars hasn't been initialized.";if(i&&!l(i))throw"Error closing Slidebar, there is no Slidebar with id '"+i+"'.";if(i||(i=this.getActiveSlidebar()),i&&e[i].active){e[i].active=!1,$(d).trigger("closing",[e[i].id]);var n=a(i);n.elements.css("transform",""),setTimeout(function(){n.elements.css("transition-duration",""),e[i].element.css("display",""),$(d).trigger("closed",[e[i].id]),"function"==typeof r&&r()},n.duration)}},this.toggle=function(i,r){if(!t)throw"Slidebars hasn't been initialized.";if(!i)throw"You must pass a Slidebar id.";if(!l(i))throw"Error toggling Slidebar, there is no Slidebar with id '"+i+"'.";e[i].active?this.close(i,function(){"function"==typeof r&&r()}):this.open(i,function(){"function"==typeof r&&r()})},this.isActive=function(){return t},this.isActiveSlidebar=function(i){if(!t)throw"Slidebars hasn't been initialized.";if(!i)throw"You must provide a Slidebar id.";if(!l(i))throw"Error retrieving Slidebar, there is no Slidebar with id '"+i+"'.";return e[i].active},this.getActiveSlidebar=function(){if(!t)throw"Slidebars hasn't been initialized.";var i=!1;for(var r in e)if(l(r)&&e[r].active){i=e[r].id;break}return i},this.getSlidebars=function(){if(!t)throw"Slidebars hasn't been initialized.";var i=[];for(var r in e)l(r)&&i.push(e[r].id);return i},this.getSlidebar=function(i){if(!t)throw"Slidebars hasn't been initialized.";if(!i)throw"You must pass a Slidebar id.";if(!l(i))throw"Error retrieving Slidebar, there is no Slidebar with id '"+i+"'.";return e[i]},this.events={};var d=this.events;$(window).on("resize",this.css.bind(this))};